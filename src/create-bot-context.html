<template>
 <section class="content-header">
    <h1>
      New Bot context
    </h1>
    
  </section>
  <section class="content">	  
      <form role="form" class="form-horizontal">
		<table class="table">
			<tbody>
				<tr>
					<td>
						<div class="form-group">
							<label class="col-sm-2 control-label">Name</label>
							<div class="col-sm-10">
								<input type="text" placeholder="Enter context name" class="form-control" value.bind="context.name">
							</div>
						</div>
					</td>
					
				</tr>
				<tr>
					<td>
						<div class="form-group">
						  <label class="col-sm-2 control-label">Type</label>
						  <div class="col-sm-10">
							<select  value.bind="selectedValType" class="form-control"  change.delegate="DropdownChanged(selectedValType)">
								<option repeat.for="option of typeOptions" model.bind="option.id">${option.name}</option>
							</select>
						  </div>
						</div> 
					</td>					
				</tr>
				<tr>
					<td>
						<div class="form-group" show.bind="istext" >
						  <label class="col-sm-2 control-label">Content</label>
						  <div class="col-sm-10">							
							<textarea class="form-control" rows="5" value.bind="ContentValue"></textarea>
						  </div>
						</div> 
						<div class="form-group" show.bind="isSA">
						  <label class="col-sm-2 control-label">Sender Action</label>
						  <div class="col-sm-10">							
							<select value.bind="selectedValSA" class="form-control" >
								<option repeat.for="action of SenderActionOptions" model.bind="action.id">${action.name}</option>
							</select>
						  </div>
						</div> 
						<div class="form-group" show.bind="isQR">
							<label class="col-sm-2 control-label">Content</label>
							<div class="col-sm-10">							
								<textarea class="form-control" rows="5" value.bind="ContentValueQR"></textarea>
							</div>
							<label class="col-sm-2 control-label">Quick replies</label>
							<div class="col-sm-10">								   
								<div class="form-inline" repeat.for="item of items">
								<div class="form-group">
									<label>Content Type</label>
									<select class="form-control" value.bind="item.type">
										<option>text</option>
										<option>location</option>
									</select>															
									<label >Title</label>
									<input class="form-control" type="text"  value.bind="item.text">
									<label >Payload</label>
									<input class="form-control" type="text"  change.delegate="addBlank($index, $event)" value.bind="item.payload">
									<button click.delegate="removeItem($index)"><i class="fa fa-trash" aria-hidden="true"></i></button>										
								</div>
							</div>	
							</div>
						</div> 
					</td>					
				</tr>
				<tr>
					<td>
						<div class="button-bar">
							<button class="btn btn-info pull-right" click.delegate="save()" disabled.bind="!canSave">Create Context</button>
						</div>
					</td>
				</tr>
			</tbody>					           
      </form>
 </section> 
</template>
